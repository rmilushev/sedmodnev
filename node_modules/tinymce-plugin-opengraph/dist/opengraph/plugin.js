!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(3)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'.tox .tox-dialog__content-js{position:relative}.tox .mce-opengraph{height:480px}.tox .mce-opengraph *{font-family:"Noto Sans DemiLight", AppleSDGothicNeo, "돋움", dotum, sans-serif;letter-spacing:-0.2px}.tox .mce-opengraph .mce-opengraph-media,.tox .mce-opengraph .mce-opengraph-source{position:absolute;top:0;bottom:0;left:0;right:0}.tox .mce-opengraph .mce-opengraph-footer{position:absolute;bottom:-1px;height:56px;left:0;right:0;background-color:#fff;border-top:1px solid #E0E5EE}.tox .mce-opengraph .mce-opengraph-input{margin:0;width:100%;border:1px solid #C5CDD7;height:38px;padding:10px 50px 10px 10px;box-sizing:border-box;font-size:13px;color:#333;background-color:#fff}.tox .mce-opengraph .mce-opengraph-input:focus{border-color:#828C9B}.tox .mce-opengraph .mce-opengraph-search{position:absolute;right:38px;top:35px;height:30px;padding:0 5px;overflow:hidden;cursor:pointer;text-align:center;display:flex;justify-content:center;align-items:center}.tox .mce-opengraph .mce-opengraph-search:disabled{color:#eee}.tox .mce-opengraph .mce-opengraph-header{padding:30px;position:relative}.tox .mce-opengraph .mce-opengraph-body{position:absolute;top:70px;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;color:#828C9B;font-size:18px}.tox .mce-opengraph .ico_loading{display:block;width:28px;height:28px;margin:0 auto;background-position:0 0;animation:aniSpinRev 1s infinite linear}@keyframes aniSpinRev{from{transform:rotate(360deg)}to{transform:rotate(0deg)}}.tox .mce-opengraph .ico_blog{display:inline-block;overflow:hidden;background:url(https://t1.daumcdn.net/tistory_admin/static/manage/images/r1/ico_tistory_170731.png) no-repeat;vertical-align:top;text-indent:-9999px}.tox .mce-opengraph .mce-opengraph-video-preview{width:420px;height:235px;box-shadow:0 1px 5px #999}.tox .mce-opengraph .mce-opengraph-video-preview iframe{width:100%;height:100%}.tox .mce-opengraph .mce-opengraph-preview{width:420px;height:100px;box-shadow:0 1px 5px #999;position:relative}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-image{width:100px;height:100px;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#000}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-image img{max-width:100px;max-height:100px}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-content{position:absolute;left:100px;top:0;width:320px;height:100px;padding:10px;box-sizing:border-box;background-color:#fff}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-title{font-weight:500;font-size:18px;overflow:hidden;word-wrap:break-word;line-height:25px;text-overflow:ellipsis;white-space:nowrap;color:#666}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-description{font-size:12px;line-height:18px;height:36px;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;display:-webkit-box;overflow:hidden;color:#666}.tox .mce-opengraph .mce-opengraph-preview .mce-opengraph-host{font-size:11px;color:#999;line-height:14px}.tox .mce-opengraph .mce-opengraph-source{position:absolute;top:30px;bottom:30px;left:30px;right:30px}.tox .mce-opengraph .mce-opengraph-source .mce-opengraph-textarea{width:100%;height:100%;box-sizing:border-box;padding:20px;color:#828C9B;background-color:#fff;resize:none;border:1px solid #C5CDD7;white-space:pre-wrap}.tox .mce-opengraph.media .mce-opengraph-source,.tox .mce-opengraph.media .btn-media-mode{display:none}.tox .mce-opengraph.source .mce-opengraph-media,.tox .mce-opengraph.source .btn-source-mode{display:none}\n',""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(p," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,c,p;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var a=0;a<e.length;a++){var c=e[a];null!=c[0]&&o[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="(".concat(c[2],") and (").concat(n,")")),t.push(c))}},t}},function(e,t,n){"use strict";var o,r={},i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id],a=0;if(i){for(i.refs++;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(m(o.parts[a],t))}else{for(var c=[];a<o.parts.length;a++)c.push(m(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:c}}}}function s(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var o=n.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r&&e.setAttribute("media",r),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,g=0;function m(e,t){var n,o,r;if(t.singleton){var i=g++;n=f||(f=s(t)),o=h.bind(null,n,i,!1),r=h.bind(null,n,i,!0)}else n=s(t),o=d.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e,t);return p(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i],s=r[a.id];s&&(s.refs--,o.push(s))}e&&p(c(e,t),t);for(var l=0;l<o.length;l++){var u=o[l];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete r[u.id]}}}}},function(e,t,n){"use strict";n.r(t);n(0);var o=new RegExp(/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)$/),r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.length<2083&&o.test(t)||n&&e("http://"+t)};function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opengraph=t}var t,n,o;return t=e,(n=[{key:"render",value:function(){return this.opengraph.mediaUrl?this.renderMedia():this.renderSummary()}},{key:"renderMedia",value:function(){var e=this.opengraph,t=e.mediaUrl,n=e.url,o=e.image,r=e.title;return'<iframe src="'.concat(t,'" data-opengraph-url="').concat(n,'" data-opengraph-image="').concat(o,'" data-opengraph-title="').concat(encodeURIComponent(r),'" width="560" height="315" frameborder="0" allowfullscreen></iframe>')}},{key:"renderSummary",value:function(){var e=this.opengraph,t=e.image,n=e.title,o=e.description,r=e.host,i=e.url,a="";return t&&(a+='<div style="width:100px; height:100px; overflow:hidden; display:flex; justify-content: center;align-items: center; background-color: #000;">\n\t\t\t\t<a href="'.concat(i,'" style="width:100px;height:100px;display:flex;justify-items: center;align-items: center;"><img style="max-width:100%; max-height:100%" src="').concat(t,'"></a>\n\t\t\t</div>')),a+='<div style="position:absolute; left:'.concat(t?100:0,'px; right:0; top:0; bottom:0; padding:10px; box-sizing:border-box">\n\t\t\t<a href="').concat(i,'" style="display:block; font-weight:500; font-size:18px; overflow: hidden; word-wrap: break-word; line-height:25px; text-overflow: ellipsis; white-space:nowrap; color:#666; text-decoration:none">').concat(n,'</a>\n\t\t\t<div style="font-size:12px; line-height:18px; height:36px; white-space: normal;-webkit-line-clamp: 2; -webkit-box-orient: vertical; text-overflow: ellipsis; display: -webkit-box; overflow:hidden; color:#666">').concat(o,'</div>\n\t\t\t<div style="font-size:11px; color:#999; line-height:14px">').concat(r,"</div>\n\t\t</div>"),'<div class="opengraph" style="position:relative; height:100px; box-shadow:0 1px 5px #999; margin: 10px auto 30px;overflow:hidden;"\n\t\t\tdata-opengraph-image="'.concat(t,'" data-opengraph-title="').concat(n,'"\n\t\t\tdata-opengraph-description="').concat(o,'" data-opengraph-host="').concat(r,'"\n\t\t\tdata-opengraph-url="').concat(i,'">\n\t\t\t').concat(a,"\n\t\t</div>")}}])&&i(t.prototype,n),o&&i(t,o),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(o=[{key:"renderMedia",value:function(){var e=this.opengraph,t=e.mediaUrl,n=e.url;return'<div class="mce-opengraph-video-preview">\n\t\t\t<iframe src="'.concat(t,'" data-opengraph-url="').concat(n,'" frameborder="0" allowfullscreen>\n\t\t</div>')}},{key:"renderSummary",value:function(){var e=this.opengraph,t=e.image,n=e.title,o=e.description,r=e.host,i=(e.url,"");return i="",t&&(i+='<div class="mce-opengraph-image">\n\t\t\t\t<img src="'.concat(t,'">\n\t\t\t</div>')),i+='<div class="mce-opengraph-content" '.concat(t?"":'style="left:0;"','>\n\t\t\t<div class="mce-opengraph-title">').concat(n,'</div>\n\t\t\t<div class="mce-opengraph-description">').concat(o,'</div>\n\t\t\t<div class="mce-opengraph-host">').concat(r,"</div>\n\t\t</div>"),'<div class="mce-opengraph-preview">'.concat(i,"</div>")}}])&&p(n.prototype,o),r&&p(n,r),t}(a);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"stripHtml",value:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{key:"urlEncode",value:function(e){return encodeURIComponent(e)}},{key:"urlDecode",value:function(e){return decodeURIComponent(e)}}],(n=null)&&d(t.prototype,n),o&&d(t,o),e}();function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tagName=t.tagName.toUpperCase(),this.url=t.src,this.source=t.outerHTML,this.content=t.innerHTML}var t,n,o;return t=e,(n=[{key:"canRender",value:function(){return"SCRIPT"==this.tagName||this.url.indexOf("https://www.youtube.com")<0&&this.url.indexOf("https://w.soundcloud.com/player")<0}},{key:"getKnownName",value:function(){var e=this.url;return 0==e.indexOf("https://gist.github.com")?"GIST":0==e.indexOf("https://www.google.com/maps")?"GOOGLE MAPS":void 0}},{key:"getTitle",value:function(){var e=this.getKnownName();return e||this.tagName}},{key:"getContent",value:function(){return this.content?f.stripHtml(this.content):this.url}},{key:"getSource",value:function(){return f.urlEncode(this.source)}},{key:"getRawSource",value:function(){return this.source}}])&&g(t.prototype,n),o&&g(t,o),e}();function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$elm=t}var t,n,o;return t=e,(n=[{key:"render",value:function(){var e=this,t=this.$elm,n="";return t.each((function(t,o){n+=e.renderElement(o)})),n}},{key:"renderElement",value:function(e){var t=new m(e);return t.canRender()?'<div contentEditable="false" data-opengraph-source="'.concat(t.getSource(),'" style="position: relative;max-width: 470px;max-height: 300px;box-shadow: 0 1px 5px #999;margin: 10px auto 30px;">\n      <div style="height: 40px;line-height: 40px;padding: 0 20px;font-size: 16px;font-weight: bold;background-color:#fafafa;border-bottom: 1px solid #ddd;">').concat(t.getTitle(),'</div>\n      <div style="font-size:12px;padding: 20px;font-family: monospace;color:#999;word-break: break-all;">').concat(t.getContent(),"</div>\n    </div>"):t.getRawSource()}}])&&v(t.prototype,n),o&&v(t,o),e}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n){var o=n.value;if("function"!=typeof o)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(x(o)));var r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof o)return o;var n=o.bind(this);return r=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){o=e,delete this[t]}}),r=!1,n},set:function(e){o=e}}}function O(e){var t;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof n.value&&Object.defineProperty(e.prototype,t,w(e,t,n))}})),e}function k(){return 1===arguments.length?O.apply(void 0,arguments):w.apply(void 0,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var j=1,E=1,M=(S((y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.win=null,this.opengraph=null,this.source="",this.status=j,this.mode=E,this.fetchHandler=this.editor.settings.opengraph&&this.editor.settings.opengraph.fetch_handler?this.editor.settings.opengraph.fetch_handler:function(){}}var t,n,o;return t=e,(n=[{key:"open",value:function(){this.win=this.makeWindow(),this.initView(),this.attachViewEvent(),this.updateView(),this.$input[0].focus()}},{key:"makeWindow",value:function(){return this.editor.windowManager.open({title:"미디어 삽입",width:600,height:480,body:{type:"panel",items:[{type:"htmlpanel",name:"opengraph",html:'<div class="mce-opengraph media">\n              <div class="mce-opengraph-media">\n                <div class="mce-opengraph-header">\n                  <form class="opengraph-search-form">\n                    <input class="mce-opengraph-input" placeholder="http://url">\n                    <button class="mce-opengraph-search" disabled="disabled">확인</button>\n                  </form>\n                </div>\n                <div class="mce-opengraph-body"></div>\n              </div>\n              <div class="mce-opengraph-source">\n                <textarea class="mce-opengraph-textarea" placeholder="<iframe src=\'media-url\' />"></textarea>\n              </div>\n            </div>'}]},buttons:[{type:"custom",name:"toggle-mode",text:"source",align:"start"},{type:"cancel",name:"cancel",align:"end",text:"취소"},{type:"submit",name:"save",align:"end",text:"삽입",primary:!0}],onAction:this.handleOnAction,onSubmit:this.handleOnSubmit,onCancel:this.handleOnCancel})}},{key:"initView",value:function(){var e=(0,this.editor.$)(document.getElementsByClassName("mce-opengraph")[0]);this.$searchForm=e.find(".opengraph-search-form"),this.$input=e.find(".mce-opengraph-input"),this.$btnSearch=e.find(".mce-opengraph-search"),this.$body=e.find(".mce-opengraph-body"),this.$source=e.find(".mce-opengraph-source .mce-opengraph-textarea"),this.$area=e}},{key:"handleOnAction",value:function(e,t){"toggle-mode"==t.name&&(this.mode==E?this.handleChangeSourceMode():this.handleChangeMediaMode())}},{key:"handleOnSubmit",value:function(){var e,t=this.editor,n=this.opengraph,o=this.mode,r=this.source,i=this.win;o==E?e=new a(n):2==o&&(e=new b(t.$(r))),e&&(t.insertContent(e.render()),t.nodeChanged()),i.close(),this.detachViewEvent()}},{key:"handleOnCancel",value:function(){this.detachViewEvent()}},{key:"attachViewEvent",value:function(){var e=this;this.$searchForm.on("submit",(function(t){t.preventDefault(),e.fetchOpengraph(e.$input[0].value)})),this.$input.on("keyup",(function(t){r(t.target.value,!0)?e.$btnSearch.removeAttr("disabled"):e.$btnSearch.attr("disabled","disabled")})),this.$source.on("change",(function(t){e.source=t.target.value}))}},{key:"detachViewEvent",value:function(){this.win&&(this.$searchForm.off("submit"),this.$input.off("keyup"),this.opengraph=null,this.$searchForm=null,this.$input=null,this.$btnSearch=null,this.$body=null,this.$source=null,this.status=j,this.win=null)}},{key:"updateView",value:function(){var e=this.$body,t=this.status;if(this.mode==E)switch(t){case 3:this.showOpengraph();break;case 4:e.html("미리보기를 불러오지 못했습니다.");break;case 2:e.html("<span class='ico_blog ico_loading'></span>");break;default:e.html("이 곳에 미리보기가 표시됩니다.")}}},{key:"fetchOpengraph",value:function(e){var t,n=this;e&&r(e,!0)&&(this.status=2,this.updateView(),this.fetchHandler(r(t=e)?t:"http://"+t,(function(e){e?(n.opengraph=e,n.status=3):n.status=4,n.updateView()})))}},{key:"showOpengraph",value:function(){var e=this.opengraph,t=this.$body,n=new h(e);t.html(n.render())}},{key:"onSourceChange",value:function(e){this.source=this.$source[0].value}},{key:"handleChangeSourceMode",value:function(){this.$area.addClass("source").removeClass("media"),this.mode=2,this.updateView(),this.$source[0].focus()}},{key:"handleChangeMediaMode",value:function(){this.$area.addClass("media").removeClass("source"),this.mode=E,this.updateView(),this.$input[0].focus()}}])&&C(t.prototype,n),o&&C(t,o),e}()).prototype,"handleOnAction",[k],Object.getOwnPropertyDescriptor(y.prototype,"handleOnAction"),y.prototype),S(y.prototype,"handleOnSubmit",[k],Object.getOwnPropertyDescriptor(y.prototype,"handleOnSubmit"),y.prototype),S(y.prototype,"handleOnCancel",[k],Object.getOwnPropertyDescriptor(y.prototype,"handleOnCancel"),y.prototype),S(y.prototype,"onSourceChange",[k],Object.getOwnPropertyDescriptor(y.prototype,"onSourceChange"),y.prototype),S(y.prototype,"handleChangeSourceMode",[k],Object.getOwnPropertyDescriptor(y.prototype,"handleChangeSourceMode"),y.prototype),S(y.prototype,"handleChangeMediaMode",[k],Object.getOwnPropertyDescriptor(y.prototype,"handleChangeMediaMode"),y.prototype),y),P=function(e){var t=new M(e),n=e.$;e.ui.registry.addButton("opengraph",{icon:"embed",tooltip:"미디어",onAction:function(){e.execCommand("mceOpengraph")}}),e.addCommand("mceOpengraph",(function(){t.open()})),e.on("PreProcess",(function(e){n("[data-opengraph-url]",e.node).each((function(e,t){n(t).removeAttr("contentEditable")})),n("[data-opengraph-source]",e.node).each((function(e,t){t.outerHTML=f.urlDecode(n(t).attr("data-opengraph-source"))}))})),e.on("SetContent",(function(e){n("iframe, script").each((function(e,t){var o=new b(n(t));t.outerHTML=o.render()})),n("[data-opengraph-url]").each((function(e,t){t.contentEditable=!1}))})),e.shortcuts.add("meta+o","Opengraph","mceOpengraph")};tinymce.PluginManager.add("opengraph",P)}]);